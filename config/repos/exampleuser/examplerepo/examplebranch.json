{
    "wdir": "/home/example/working/directory",
    "dependencies": [
        "mysql",
        "rabbitmq-server"
    ],
    "config": {
        "config/mysql.json": {
            "host": "127.0.0.1",
            "username": "example",
            "password": "example",
            "database": "example"
        },
        "config/rabbitmq.json": {
            "host": "127.0.0.1",
            "port": 5672,
            "vhost": "example",
            "username": "example",
            "password": "example",
            "heartbeat": 1000
        }
    },
    "pre": [
        "systemctl stop example.service",
        "git fetch --all",
        "git reset --hard origin/master",
        "git clean -f -d",
        "rm -rf vendor"
    ],
    "pull": [
        "git pull",
        "composer install --no-dev --optimize-autoloader --no-interaction --allow-root"
    ],
    "test": [
        "phpunit --configuration phpunit.xml --coverage-text --colors=never"
    ],
    "rollback": [
        "git reset --hard HEAD~1",
        "composer install --no-dev --optimize-autoloader --no-interaction --allow-root"
    ],
    "post": [
        "chown -R example:example .",
        "systemctl start example.service"
    ],
    "cleanup": [
        "rm -rf /tmp/example-app/*"
    ],
    "notify": [
        "https://discord.webhook.url/abc/123"
    ]
}